let gridContainer = document.querySelector('.grid_box_container');

fetch('./api-products/product.json')
    .then(resp => resp.json())
    .then(data => {
        console.log(data);
        data.forEach(product => {
            if(product.discount!=''){
                gridContainer.innerHTML +=
                `<div class="grid_box">
                    <div class="grid_box_info">
                        <div class="discount_stars">
                            <span class="discount">${product.discount}</span>
                            <div class="item_stars">
                                <svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 0L11.0206 6.21885H17.5595L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885H6.97937L9 0Z" fill="#FDDE01"/>
                                </svg>
                                <svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 0L11.0206 6.21885H17.5595L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885H6.97937L9 0Z" fill="#FDDE01"/>
                                </svg>
                                <svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 0L11.0206 6.21885H17.5595L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885H6.97937L9 0Z" fill="#FDDE01"/>
                                </svg>
                                <svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 0L11.0206 6.21885H17.5595L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885H6.97937L9 0Z" fill="#FDDE01"/>
                                </svg>
                                <svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 0L11.0206 6.21885H17.5595L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885H6.97937L9 0Z" fill="#C4C4C4"/>
                                </svg>
                            </div>
                        </div>
                        <div class="box_img">
                            <img src="${product.img}">
                        </div>
                        <p class="item_text">${product.title}</p>
                        <div class="item_price">
                            <p class="red">${product.price} <span>&#8380;</span></p>
                            <p class="small">${product.oldPrice}<span>&#8380;</span></p>
                        </div>
                    </div>
                    <div class="heart_basket_chart">
                        <div class="hearts">
                            <svg width="15" height="12" viewBox="0 0 15 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M13.8423 6.17973C15.3859 4.76492 15.3859 2.46441 13.8423 1.06111C12.2987 -0.353702 9.78875 -0.353702 8.24514 1.06111L7.49216 1.75126L6.73918 1.06111C5.19557 -0.353702 2.68563 -0.353702 1.15457 1.06111C0.40159 1.73976 0 2.65996 0 3.62617C0 4.59238 0.414139 5.50108 1.15457 6.19123L7.49216 12L13.8423 6.17973ZM0.991424 3.62617C0.991424 2.90151 1.29262 2.22286 1.85735 1.71675C2.43464 1.18764 3.18762 0.923077 3.9406 0.923077C4.69358 0.923077 5.44656 1.18764 6.02384 1.71675L7.49216 3.05104L8.96047 1.70525C10.115 0.647017 11.9849 0.647017 13.127 1.70525C13.6791 2.21136 13.9929 2.89001 13.9929 3.61467C13.9929 4.33932 13.6917 5.01797 13.127 5.52408L7.49216 10.7002L1.85735 5.53559C1.30517 5.01797 0.991424 4.33932 0.991424 3.62617Z" fill="#979797"/>
                            </svg>
                        </div>
                        <div class="baskets" onclick="addToCard1(${product.id})">
                            <svg width="15" height="13" viewBox="0 0 15 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M0.468747 0H2.2412C2.25794 0 2.27217 0.00781249 2.28846 0.00952744C2.32245 0.0129954 2.35423 0.0186357 2.38608 0.0292302C2.41274 0.0380335 2.43681 0.0488948 2.46111 0.0620808C2.48908 0.0772866 2.51429 0.0937881 2.53867 0.114329C2.5611 0.133156 2.58013 0.153201 2.59867 0.1758C2.61778 0.199085 2.63411 0.22279 2.64861 0.249771C2.6636 0.277477 2.67413 0.305907 2.68332 0.336623C2.68832 0.353277 2.69911 0.366654 2.70232 0.384146L2.97075 1.84981L14.4418 2.51951C14.4857 2.51646 14.5245 2.52287 14.5736 2.52744C14.8284 2.55061 15.0176 2.77378 14.9987 3.02866C14.9972 3.04787 14.9947 3.06646 14.9911 3.08476L14.1918 7.43963C14.009 8.11494 13.446 8.79665 12.5991 8.79665H4.24318L4.42209 9.77348H11.4532C12.3434 9.77348 13.0679 10.4973 13.0679 11.3866C13.0679 12.2762 12.3434 13 11.4532 13C10.563 13 9.83851 12.2762 9.83851 11.3866C9.83851 11.1442 9.89615 10.9165 9.99243 10.7101H5.6749C5.77119 10.9165 5.82882 11.1442 5.82882 11.3866C5.82882 12.2762 5.10434 13 4.21415 13C3.32396 13 2.59947 12.2762 2.59947 11.3866C2.59947 10.7542 2.96911 10.2112 3.5008 9.94687L1.85046 0.936585H0.468747C0.209959 0.936585 0 0.726829 0 0.468293C0 0.209756 0.209959 0 0.468747 0ZM3.73617 6.02847L5.72255 6.05964L5.61436 4.90957L3.51972 4.84684L3.73617 6.02847ZM13.6597 5.15053L11.6748 5.09108L11.5449 6.15095L13.4709 6.18117L13.6597 5.15053ZM11.0477 5.07229L8.86592 5.00697V6.10892L10.9167 6.14112L11.0477 5.07229ZM8.86592 4.38201L11.124 4.44966L11.2683 3.27245L8.86592 3.13213V4.38201ZM8.24092 3.09562L6.05954 2.96818L6.18496 4.30171L8.24092 4.3633V3.09562ZM8.86592 6.73346V7.86006H10.7061L10.8404 6.76444L8.86592 6.73346ZM8.24092 6.72367L6.41007 6.69497L6.51966 7.86006H8.24092V6.72367ZM8.24092 6.09912V4.98826L6.2439 4.92843L6.35124 6.06947L8.24092 6.09912ZM3.40464 4.21845L5.55543 4.28285L5.42832 2.93133L3.14444 2.7979L3.40464 4.21845ZM11.8932 3.30896L11.7511 4.46841L13.7737 4.529C13.8589 4.06643 13.9268 3.70694 13.9846 3.4311L11.8932 3.30896ZM13.2781 7.23323L13.3568 6.80393L11.4685 6.77431L11.3355 7.86006H12.5991C13.0007 7.86006 13.2244 7.4253 13.2781 7.23323ZM5.89188 7.86006L5.78137 6.6851L3.85088 6.6548L4.07163 7.86006H5.89188ZM10.776 11.3866C10.776 11.7598 11.0797 12.0634 11.4532 12.0634C11.8267 12.0634 12.1304 11.7598 12.1304 11.3866C12.1304 11.0134 11.8267 10.7101 11.4532 10.7101C11.0797 10.7101 10.776 11.0134 10.776 11.3866ZM4.21415 12.0634C4.58768 12.0634 4.89133 11.7598 4.89133 11.3866C4.89133 11.0134 4.58768 10.7101 4.21415 10.7101C3.84062 10.7101 3.53697 11.0134 3.53697 11.3866C3.53697 11.7598 3.84062 12.0634 4.21415 12.0634Z" fill="#979797"/>
                            </svg>
                        </div>
                        <div class="chart">
                            <svg width="20" height="14" viewBox="0 0 20 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M3 3.66667H0.333333C0.244928 3.66667 0.160143 3.70179 0.097631 3.7643C0.0351189 3.82681 0 3.9116 0 4.00001V12C0 12.0884 0.0351189 12.1732 0.097631 12.2357C0.160143 12.2982 0.244928 12.3333 0.333333 12.3333H3C3.08841 12.3333 3.17319 12.2982 3.2357 12.2357C3.29821 12.1732 3.33333 12.0884 3.33333 12V4.00001C3.33333 3.9116 3.29821 3.82681 3.2357 3.7643C3.17319 3.70179 3.08841 3.66667 3 3.66667ZM2.66667 11.6667H0.666667V4.33334H2.66667V11.6667Z" fill="#979797"/>
                                <path d="M7.66675 1.66667H5.00008C4.91168 1.66667 4.82689 1.70179 4.76438 1.7643C4.70187 1.82681 4.66675 1.9116 4.66675 2.00001V12C4.66675 12.0884 4.70187 12.1732 4.76438 12.2357C4.82689 12.2982 4.91168 12.3333 5.00008 12.3333H7.66675C7.75515 12.3333 7.83994 12.2982 7.90245 12.2357C7.96496 12.1732 8.00008 12.0884 8.00008 12V2.00001C8.00008 1.9116 7.96496 1.82681 7.90245 1.7643C7.83994 1.70179 7.75515 1.66667 7.66675 1.66667ZM7.33341 11.6667H5.33341V2.33334H7.33341V11.6667Z" fill="#979797"/>
                                <path d="M12.6666 6.66667V5.33333C12.6666 5.24493 12.6315 5.16014 12.569 5.09763C12.5064 5.03512 12.4217 5 12.3333 5H9.66659C9.57818 5 9.49339 5.03512 9.43088 5.09763C9.36837 5.16014 9.33325 5.24493 9.33325 5.33333V12C9.33325 12.0884 9.36837 12.1732 9.43088 12.2357C9.49339 12.2982 9.57818 12.3333 9.66659 12.3333H11.7499V11.6667H9.99992V5.66667H11.9999V6.66667H12.6666Z" fill="#979797"/>
                                <path d="M14.6667 0.666667H16.6667V6.2H17.3333V0.333333C17.3333 0.244928 17.2982 0.160143 17.2357 0.0976311C17.1732 0.035119 17.0884 0 17 0H14.3333C14.2449 0 14.1601 0.035119 14.0976 0.0976311C14.0351 0.160143 14 0.244928 14 0.333333V5.72333H14.6667V0.666667Z" fill="#979797"/>
                                <path d="M16.0001 7.33333C15.3408 7.33333 14.6963 7.52882 14.1482 7.8951C13.6 8.26137 13.1728 8.78196 12.9205 9.39105C12.6682 10.0001 12.6022 10.6704 12.7308 11.317C12.8594 11.9636 13.1769 12.5575 13.6431 13.0237C14.1092 13.4899 14.7032 13.8073 15.3498 13.9359C15.9964 14.0646 16.6666 13.9986 17.2757 13.7463C17.8848 13.494 18.4054 13.0667 18.7716 12.5186C19.1379 11.9704 19.3334 11.3259 19.3334 10.6667C19.3334 9.78261 18.9822 8.93476 18.3571 8.30964C17.732 7.68452 16.8841 7.33333 16.0001 7.33333ZM17.0967 12.2367L15.7634 10.9033C15.7325 10.8722 15.7081 10.8352 15.6915 10.7946C15.6749 10.754 15.6665 10.7105 15.6667 10.6667V8.66666H16.3334V10.53L17.5701 11.7633L17.0967 12.2367Z" fill="#979797"/>
                            </svg>
                        </div>
                    </div>`
                        }else{
                            gridContainer.innerHTML +=
                            `<div class="grid_box">
                    <div class="grid_box_info">
                        <div class="discount_stars">
                            <p></p>
                            <div class="item_stars">
                                <svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 0L11.0206 6.21885H17.5595L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885H6.97937L9 0Z" fill="#FDDE01"/>
                                </svg>
                                <svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 0L11.0206 6.21885H17.5595L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885H6.97937L9 0Z" fill="#FDDE01"/>
                                </svg>
                                <svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 0L11.0206 6.21885H17.5595L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885H6.97937L9 0Z" fill="#FDDE01"/>
                                </svg>
                                <svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 0L11.0206 6.21885H17.5595L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885H6.97937L9 0Z" fill="#FDDE01"/>
                                </svg>
                                <svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 0L11.0206 6.21885H17.5595L12.2694 10.0623L14.2901 16.2812L9 12.4377L3.70993 16.2812L5.73056 10.0623L0.440492 6.21885H6.97937L9 0Z" fill="#C4C4C4"/>
                                </svg>
                            </div>
                        </div>
                        <div class="box_img">
                            <img src="${product.img}">
                        </div>
                        <p class="item_text">${product.title}</p>
                        <div class="item_price">
                            <p class="red">${product.price} <span>&#8380;</span></p>
                            <p class="small">${product.oldPrice} <span>&#8380;</span></p>
                        </div>
                    </div>
                    <div class="heart_basket_chart">
                        <div class="hearts">
                            <svg width="15" height="12" viewBox="0 0 15 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M13.8423 6.17973C15.3859 4.76492 15.3859 2.46441 13.8423 1.06111C12.2987 -0.353702 9.78875 -0.353702 8.24514 1.06111L7.49216 1.75126L6.73918 1.06111C5.19557 -0.353702 2.68563 -0.353702 1.15457 1.06111C0.40159 1.73976 0 2.65996 0 3.62617C0 4.59238 0.414139 5.50108 1.15457 6.19123L7.49216 12L13.8423 6.17973ZM0.991424 3.62617C0.991424 2.90151 1.29262 2.22286 1.85735 1.71675C2.43464 1.18764 3.18762 0.923077 3.9406 0.923077C4.69358 0.923077 5.44656 1.18764 6.02384 1.71675L7.49216 3.05104L8.96047 1.70525C10.115 0.647017 11.9849 0.647017 13.127 1.70525C13.6791 2.21136 13.9929 2.89001 13.9929 3.61467C13.9929 4.33932 13.6917 5.01797 13.127 5.52408L7.49216 10.7002L1.85735 5.53559C1.30517 5.01797 0.991424 4.33932 0.991424 3.62617Z" fill="#979797"/>
                            </svg>
                        </div>
                        <div class="baskets" onclick="addToCard1(${product.id})">
                            <svg width="15" height="13" viewBox="0 0 15 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M0.468747 0H2.2412C2.25794 0 2.27217 0.00781249 2.28846 0.00952744C2.32245 0.0129954 2.35423 0.0186357 2.38608 0.0292302C2.41274 0.0380335 2.43681 0.0488948 2.46111 0.0620808C2.48908 0.0772866 2.51429 0.0937881 2.53867 0.114329C2.5611 0.133156 2.58013 0.153201 2.59867 0.1758C2.61778 0.199085 2.63411 0.22279 2.64861 0.249771C2.6636 0.277477 2.67413 0.305907 2.68332 0.336623C2.68832 0.353277 2.69911 0.366654 2.70232 0.384146L2.97075 1.84981L14.4418 2.51951C14.4857 2.51646 14.5245 2.52287 14.5736 2.52744C14.8284 2.55061 15.0176 2.77378 14.9987 3.02866C14.9972 3.04787 14.9947 3.06646 14.9911 3.08476L14.1918 7.43963C14.009 8.11494 13.446 8.79665 12.5991 8.79665H4.24318L4.42209 9.77348H11.4532C12.3434 9.77348 13.0679 10.4973 13.0679 11.3866C13.0679 12.2762 12.3434 13 11.4532 13C10.563 13 9.83851 12.2762 9.83851 11.3866C9.83851 11.1442 9.89615 10.9165 9.99243 10.7101H5.6749C5.77119 10.9165 5.82882 11.1442 5.82882 11.3866C5.82882 12.2762 5.10434 13 4.21415 13C3.32396 13 2.59947 12.2762 2.59947 11.3866C2.59947 10.7542 2.96911 10.2112 3.5008 9.94687L1.85046 0.936585H0.468747C0.209959 0.936585 0 0.726829 0 0.468293C0 0.209756 0.209959 0 0.468747 0ZM3.73617 6.02847L5.72255 6.05964L5.61436 4.90957L3.51972 4.84684L3.73617 6.02847ZM13.6597 5.15053L11.6748 5.09108L11.5449 6.15095L13.4709 6.18117L13.6597 5.15053ZM11.0477 5.07229L8.86592 5.00697V6.10892L10.9167 6.14112L11.0477 5.07229ZM8.86592 4.38201L11.124 4.44966L11.2683 3.27245L8.86592 3.13213V4.38201ZM8.24092 3.09562L6.05954 2.96818L6.18496 4.30171L8.24092 4.3633V3.09562ZM8.86592 6.73346V7.86006H10.7061L10.8404 6.76444L8.86592 6.73346ZM8.24092 6.72367L6.41007 6.69497L6.51966 7.86006H8.24092V6.72367ZM8.24092 6.09912V4.98826L6.2439 4.92843L6.35124 6.06947L8.24092 6.09912ZM3.40464 4.21845L5.55543 4.28285L5.42832 2.93133L3.14444 2.7979L3.40464 4.21845ZM11.8932 3.30896L11.7511 4.46841L13.7737 4.529C13.8589 4.06643 13.9268 3.70694 13.9846 3.4311L11.8932 3.30896ZM13.2781 7.23323L13.3568 6.80393L11.4685 6.77431L11.3355 7.86006H12.5991C13.0007 7.86006 13.2244 7.4253 13.2781 7.23323ZM5.89188 7.86006L5.78137 6.6851L3.85088 6.6548L4.07163 7.86006H5.89188ZM10.776 11.3866C10.776 11.7598 11.0797 12.0634 11.4532 12.0634C11.8267 12.0634 12.1304 11.7598 12.1304 11.3866C12.1304 11.0134 11.8267 10.7101 11.4532 10.7101C11.0797 10.7101 10.776 11.0134 10.776 11.3866ZM4.21415 12.0634C4.58768 12.0634 4.89133 11.7598 4.89133 11.3866C4.89133 11.0134 4.58768 10.7101 4.21415 10.7101C3.84062 10.7101 3.53697 11.0134 3.53697 11.3866C3.53697 11.7598 3.84062 12.0634 4.21415 12.0634Z" fill="#979797"/>
                            </svg>
                        </div>
                        <div class="chart">
                            <svg width="20" height="14" viewBox="0 0 20 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M3 3.66667H0.333333C0.244928 3.66667 0.160143 3.70179 0.097631 3.7643C0.0351189 3.82681 0 3.9116 0 4.00001V12C0 12.0884 0.0351189 12.1732 0.097631 12.2357C0.160143 12.2982 0.244928 12.3333 0.333333 12.3333H3C3.08841 12.3333 3.17319 12.2982 3.2357 12.2357C3.29821 12.1732 3.33333 12.0884 3.33333 12V4.00001C3.33333 3.9116 3.29821 3.82681 3.2357 3.7643C3.17319 3.70179 3.08841 3.66667 3 3.66667ZM2.66667 11.6667H0.666667V4.33334H2.66667V11.6667Z" fill="#979797"/>
                                <path d="M7.66675 1.66667H5.00008C4.91168 1.66667 4.82689 1.70179 4.76438 1.7643C4.70187 1.82681 4.66675 1.9116 4.66675 2.00001V12C4.66675 12.0884 4.70187 12.1732 4.76438 12.2357C4.82689 12.2982 4.91168 12.3333 5.00008 12.3333H7.66675C7.75515 12.3333 7.83994 12.2982 7.90245 12.2357C7.96496 12.1732 8.00008 12.0884 8.00008 12V2.00001C8.00008 1.9116 7.96496 1.82681 7.90245 1.7643C7.83994 1.70179 7.75515 1.66667 7.66675 1.66667ZM7.33341 11.6667H5.33341V2.33334H7.33341V11.6667Z" fill="#979797"/>
                                <path d="M12.6666 6.66667V5.33333C12.6666 5.24493 12.6315 5.16014 12.569 5.09763C12.5064 5.03512 12.4217 5 12.3333 5H9.66659C9.57818 5 9.49339 5.03512 9.43088 5.09763C9.36837 5.16014 9.33325 5.24493 9.33325 5.33333V12C9.33325 12.0884 9.36837 12.1732 9.43088 12.2357C9.49339 12.2982 9.57818 12.3333 9.66659 12.3333H11.7499V11.6667H9.99992V5.66667H11.9999V6.66667H12.6666Z" fill="#979797"/>
                                <path d="M14.6667 0.666667H16.6667V6.2H17.3333V0.333333C17.3333 0.244928 17.2982 0.160143 17.2357 0.0976311C17.1732 0.035119 17.0884 0 17 0H14.3333C14.2449 0 14.1601 0.035119 14.0976 0.0976311C14.0351 0.160143 14 0.244928 14 0.333333V5.72333H14.6667V0.666667Z" fill="#979797"/>
                                <path d="M16.0001 7.33333C15.3408 7.33333 14.6963 7.52882 14.1482 7.8951C13.6 8.26137 13.1728 8.78196 12.9205 9.39105C12.6682 10.0001 12.6022 10.6704 12.7308 11.317C12.8594 11.9636 13.1769 12.5575 13.6431 13.0237C14.1092 13.4899 14.7032 13.8073 15.3498 13.9359C15.9964 14.0646 16.6666 13.9986 17.2757 13.7463C17.8848 13.494 18.4054 13.0667 18.7716 12.5186C19.1379 11.9704 19.3334 11.3259 19.3334 10.6667C19.3334 9.78261 18.9822 8.93476 18.3571 8.30964C17.732 7.68452 16.8841 7.33333 16.0001 7.33333ZM17.0967 12.2367L15.7634 10.9033C15.7325 10.8722 15.7081 10.8352 15.6915 10.7946C15.6749 10.754 15.6665 10.7105 15.6667 10.6667V8.66666H16.3334V10.53L17.5701 11.7633L17.0967 12.2367Z" fill="#979797"/>
                            </svg>
                        </div>
                    </div>`
            }
          
        })
    })


function addToCard1(a) {
    let checkBasket = basket.find(data => data.id === a);
    if (checkBasket) {
        checkBasket.count += 1
    } else {
        fetch('./api-products/product.json')
            .then(resp => resp.json())
            .then(product => {
                let checkPr = product.find(data => data.id === a);
                checkPr.count = 1;
                basket.push(checkPr)
                localStorage.setItem('basket', JSON.stringify(basket))
            })
    }
    localStorage.setItem('basket', JSON.stringify(basket))
}